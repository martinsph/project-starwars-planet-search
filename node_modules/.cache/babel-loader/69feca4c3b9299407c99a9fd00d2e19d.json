{"ast":null,"code":"var _jsxFileName = \"/home/pedro/Trybe/projetos_trybe/sd-012-project-starwars-planets-search/src/components/FilterByNumericValues.jsx\";\nimport React, { useContext, useEffect, useState } from 'react';\nimport ContextApi from '../context/ContextApi';\nimport Input from './Input';\nconst compareOptions = ['maior que', 'menor que', 'igual a'];\nconst columnsOptions = ['population', 'orbital_period', 'diameter', 'rotation_period', 'surface_water'];\n\nfunction FilterNumericValues() {\n  const {\n    data,\n    filters,\n    setFilters,\n    setDataFilter,\n    columns,\n    setColumns\n  } = useContext(ContextApi);\n  const {\n    filterByNumericValues\n  } = filters;\n  const [numericFilter, setNumericFilter] = useState({\n    column: columns[0],\n    comparions: 'maior que',\n    value: 0\n  }); // const { filterByName: { name } } = filters;\n\n  useEffect(() => {\n    let aux = [...data];\n\n    const filterPlanet = () => {\n      filterByNumericValues.forEach(({\n        column,\n        comparison,\n        value\n      }) => {\n        if (comparison === 'maior que') {\n          aux = aux.filter(planet => Number(planet[column]) > Number(value));\n          return setDataFilter(aux);\n        }\n\n        if (comparison === 'menor que') {\n          aux = aux.filter(planet => Number(planet[column]) < Number(value));\n          return setDataFilter(aux);\n        }\n\n        if (comparison === 'igual a') {\n          aux = aux.filter(planet => Number(planet[column]) === Number(value));\n          return setDataFilter(aux);\n        }\n      });\n    };\n\n    filterPlanet();\n  }, [data, filters, filterByNumericValues, setDataFilter]);\n  const {\n    column,\n    comparison,\n    value\n  } = numericFilter;\n\n  function handleChange({\n    target\n  }) {\n    setNumericFilter({ ...numericFilter,\n      [target.name]: target.value\n    });\n  }\n\n  function onClick() {\n    setFilters({ ...filters,\n      filterByNumericValues: [...filterByNumericValues, numericFilter]\n    });\n    setColumns(columns.filter(col => !column.includes(col)));\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"select\", {\n    textLabel: \"column\",\n    id: \"column-filter\",\n    value: column,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }\n  }, columnsOptions.map(option => /*#__PURE__*/React.createElement(\"option\", {\n    key: option,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 43\n    }\n  }, option))), /*#__PURE__*/React.createElement(\"select\", {\n    textLabel: \"comparison\",\n    id: \"comparison-filter\",\n    value: comparison,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }\n  }, compareOptions.map(option => /*#__PURE__*/React.createElement(\"option\", {\n    key: option,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 43\n    }\n  }, option))), /*#__PURE__*/React.createElement(Input, {\n    textLabel: \"value\",\n    name: \"value\",\n    id: \"value-filter\",\n    type: \"number\",\n    value: value,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    \"data-testid\": \"button-filter\",\n    type: \"button\",\n    onClick: onClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }\n  }, \"Filtrar\"));\n}\n\nexport default FilterNumericValues; // useEffect(() => {\n//   const planetByValues = () => {\n//     let aux = [...data];\n//     // console.log(allData);\n//     filterByNumericValues.forEach(() => {\n//       switch (comparison) {\n//       case 'maior que':\n//         aux = aux.filter((item) => (\n//           Number(item[column]) > value));\n//         setDataFilter(aux);\n//         break;\n//       case 'menor que':\n//         aux = aux.filter((item) => (\n//           Number(item[column]) < value));\n//         setDataFilter(aux);\n//         break;\n//       case 'igual a':\n//         aux = aux.filter((item) => (\n//           Number(item[column]) === value));\n//         setDataFilter(aux);\n//         break;\n//       default:\n//         break;\n//       }\n//     });\n//   };\n//   planetByValues();\n// }, [data, filters, setDataFilter, column, comparison, filterByNumericValues, value]);","map":{"version":3,"sources":["/home/pedro/Trybe/projetos_trybe/sd-012-project-starwars-planets-search/src/components/FilterByNumericValues.jsx"],"names":["React","useContext","useEffect","useState","ContextApi","Input","compareOptions","columnsOptions","FilterNumericValues","data","filters","setFilters","setDataFilter","columns","setColumns","filterByNumericValues","numericFilter","setNumericFilter","column","comparions","value","aux","filterPlanet","forEach","comparison","filter","planet","Number","handleChange","target","name","onClick","col","includes","map","option"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\nimport ContextApi from '../context/ContextApi';\nimport Input from './Input';\n\nconst compareOptions = ['maior que', 'menor que', 'igual a'];\nconst columnsOptions = ['population',\n  'orbital_period',\n  'diameter',\n  'rotation_period',\n  'surface_water'];\n\nfunction FilterNumericValues() {\n  const {\n    data,\n    filters,\n    setFilters,\n    setDataFilter,\n    columns,\n    setColumns,\n  } = useContext(ContextApi);\n\n  const { filterByNumericValues } = filters;\n  const [numericFilter, setNumericFilter] = useState({\n    column: columns[0],\n    comparions: 'maior que',\n    value: 0,\n  });\n  // const { filterByName: { name } } = filters;\n\n  useEffect(() => {\n    let aux = [...data];\n    const filterPlanet = () => {\n      filterByNumericValues.forEach(({ column, comparison, value }) => {\n        if (comparison === 'maior que') {\n          aux = aux.filter((planet) => Number(planet[column]) > Number(value));\n          return setDataFilter(aux);\n        }\n        if (comparison === 'menor que') {\n          aux = aux.filter((planet) => Number(planet[column]) < Number(value));\n          return setDataFilter(aux);\n        }\n        if (comparison === 'igual a') {\n          aux = aux.filter((planet) => Number(planet[column]) === Number(value));\n          return setDataFilter(aux);\n        }\n      });\n    };\n    filterPlanet();\n  }, [data, filters, filterByNumericValues, setDataFilter]);\n\n  const { column, comparison, value } = numericFilter;\n\n  function handleChange({ target }) {\n    setNumericFilter({\n      ...numericFilter,\n      [target.name]: target.value,\n    });\n  }\n\n  function onClick() {\n    setFilters({\n      ...filters,\n      filterByNumericValues: [\n        ...filterByNumericValues,\n        numericFilter,\n      ],\n    });\n    setColumns(columns.filter((col) => !column.includes(col)));\n  }\n\n  return (\n    <>\n      <select\n        textLabel=\"column\"\n        id=\"column-filter\"\n        value={ column }\n        onChange={ handleChange }\n      >\n        {\n          columnsOptions.map((option) => (<option key={ option }>{option}</option>))\n        }\n      </select>\n      <select\n        textLabel=\"comparison\"\n        id=\"comparison-filter\"\n        value={ comparison }\n        onChange={ handleChange }\n      >\n        {\n          compareOptions.map((option) => (<option key={ option }>{option}</option>))\n        }\n      </select>\n      <Input\n        textLabel=\"value\"\n        name=\"value\"\n        id=\"value-filter\"\n        type=\"number\"\n        value={ value }\n        onChange={ handleChange }\n      />\n      <button\n        data-testid=\"button-filter\"\n        type=\"button\"\n        onClick={ onClick }\n      >\n        Filtrar\n      </button>\n    </>\n  );\n}\n\nexport default FilterNumericValues;\n\n// useEffect(() => {\n//   const planetByValues = () => {\n//     let aux = [...data];\n//     // console.log(allData);\n//     filterByNumericValues.forEach(() => {\n//       switch (comparison) {\n//       case 'maior que':\n//         aux = aux.filter((item) => (\n//           Number(item[column]) > value));\n//         setDataFilter(aux);\n//         break;\n//       case 'menor que':\n//         aux = aux.filter((item) => (\n//           Number(item[column]) < value));\n//         setDataFilter(aux);\n//         break;\n//       case 'igual a':\n//         aux = aux.filter((item) => (\n//           Number(item[column]) === value));\n//         setDataFilter(aux);\n//         break;\n//       default:\n//         break;\n//       }\n//     });\n//   };\n//   planetByValues();\n// }, [data, filters, setDataFilter, column, comparison, filterByNumericValues, value]);\n"]},"metadata":{},"sourceType":"module"}