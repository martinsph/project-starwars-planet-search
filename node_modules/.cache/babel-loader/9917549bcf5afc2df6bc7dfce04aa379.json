{"ast":null,"code":"var _jsxFileName = \"/home/pedro/Trybe/projetos_trybe/sd-012-project-starwars-planets-search/src/components/FilterByNumericValues.jsx\";\nimport React, { useContext, useState } from 'react';\nimport ContextApi from '../context/ContextApi'; // import Input from './Input';\n\nconst compareOptions = ['maior que', 'menor que', 'igual a'];\nconst columnsOptions = ['population', 'orbital_period', 'diameter', 'rotation_period', 'surface_water'];\n\nfunction FilterNumericValues() {\n  const {\n    filters,\n    setFilters,\n    columns\n  } = useContext(ContextApi);\n  const [tempColumns, setTempColumns] = useState(columnsOptions);\n  const [FilterByValue, setFilterByValue] = useState({\n    column: columns[0],\n    comparions: 'maior que',\n    value: '0'\n  });\n\n  const handleChange = ({\n    target: {\n      name,\n      value\n    }\n  }) => {\n    setFilterByValue({ ...FilterByValue,\n      [name]: value\n    });\n  };\n\n  function onClick() {\n    const {\n      column,\n      comparison,\n      value\n    } = FilterByValue;\n\n    if (column !== '' && comparison !== '' && value !== null) {\n      setFilters({ ...filters,\n        filterByNumericValues: [...filters.filterByNumericValues, { ...FilterByValue\n        }]\n      });\n      setTempColumns(tempColumns.filter(item => item !== FilterByValue.column));\n      setFilterByValue({\n        column: columns[0],\n        comparions: 'maior que',\n        value: '0'\n      });\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"select\", {\n    textlabel: \"column\",\n    name: \"column\",\n    id: \"column-filter\" // value={ column }\n    ,\n    onChange: e => handleChange(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }\n  }, columnsOptions.map(option => /*#__PURE__*/React.createElement(\"option\", {\n    key: option,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 43\n    }\n  }, option))), /*#__PURE__*/React.createElement(\"select\", {\n    textlabel: \"comparison\",\n    name: \"comparison\",\n    id: \"comparison-filter\" // value={ comparison }\n    ,\n    onChange: e => handleChange(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }\n  }, compareOptions.map(option => /*#__PURE__*/React.createElement(\"option\", {\n    key: option,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 43\n    }\n  }, option))), /*#__PURE__*/React.createElement(\"input\", {\n    textlabel: \"value\",\n    name: \"value\",\n    id: \"value-filter\",\n    type: \"number\" // value={ value }\n    ,\n    onChange: e => handleChange(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    \"data-testid\": \"button-filter\",\n    type: \"button\",\n    onClick: onClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }\n  }, \"Filtrar\"));\n}\n\nexport default FilterNumericValues; // useEffect(() => {\n//   const planetByValues = () => {\n//     let aux = [...data];\n//     // console.log(allData);\n//     filterByNumericValues.forEach(() => {\n//       switch (comparison) {\n//       case 'maior que':\n//         aux = aux.filter((item) => (\n//           Number(item[column]) > value));\n//         setDataFilter(aux);\n//         break;\n//       case 'menor que':\n//         aux = aux.filter((item) => (\n//           Number(item[column]) < value));\n//         setDataFilter(aux);\n//         break;\n//       case 'igual a':\n//         aux = aux.filter((item) => (\n//           Number(item[column]) === value));\n//         setDataFilter(aux);\n//         break;\n//       default:\n//         break;\n//       }\n//     });\n//   };\n//   planetByValues();\n// }, [data, filters, setDataFilter, column, comparison, filterByNumericValues, value]);","map":{"version":3,"sources":["/home/pedro/Trybe/projetos_trybe/sd-012-project-starwars-planets-search/src/components/FilterByNumericValues.jsx"],"names":["React","useContext","useState","ContextApi","compareOptions","columnsOptions","FilterNumericValues","filters","setFilters","columns","tempColumns","setTempColumns","FilterByValue","setFilterByValue","column","comparions","value","handleChange","target","name","onClick","comparison","filterByNumericValues","filter","item","e","map","option"],"mappings":"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","sourcesContent":["import React, { useContext, useState } from 'react';\nimport ContextApi from '../context/ContextApi';\n// import Input from './Input';\n\nconst compareOptions = ['maior que', 'menor que', 'igual a'];\nconst columnsOptions = ['population',\n  'orbital_period',\n  'diameter',\n  'rotation_period',\n  'surface_water'];\n\nfunction FilterNumericValues() {\n  const {\n    filters,\n    setFilters,\n    columns,\n  } = useContext(ContextApi);\n  const [tempColumns, setTempColumns] = useState(columnsOptions);\n  const [FilterByValue, setFilterByValue] = useState(\n    {\n      column: columns[0],\n      comparions: 'maior que',\n      value: '0',\n    },\n  );\n\n  const handleChange = ({ target: { name, value } }) => {\n    setFilterByValue({ ...FilterByValue, [name]: value });\n  };\n\n  function onClick() {\n    const { column, comparison, value } = FilterByValue;\n    if (column !== '' && comparison !== '' && value !== null) {\n      setFilters({\n        ...filters,\n        filterByNumericValues: [\n          ...filters.filterByNumericValues,\n          {\n            ...FilterByValue,\n          },\n        ],\n      });\n      setTempColumns(tempColumns.filter((item) => item !== FilterByValue.column));\n      setFilterByValue({\n        column: columns[0],\n        comparions: 'maior que',\n        value: '0',\n      });\n    }\n  }\n\n  return (\n    <>\n      <select\n        textlabel=\"column\"\n        name=\"column\"\n        id=\"column-filter\"\n        // value={ column }\n        onChange={ (e) => handleChange(e) }\n      >\n        {\n          columnsOptions.map((option) => (<option key={ option }>{option}</option>))\n        }\n      </select>\n      <select\n        textlabel=\"comparison\"\n        name=\"comparison\"\n        id=\"comparison-filter\"\n        // value={ comparison }\n        onChange={ (e) => handleChange(e) }\n      >\n        {\n          compareOptions.map((option) => (<option key={ option }>{option}</option>))\n        }\n      </select>\n      <input\n        textlabel=\"value\"\n        name=\"value\"\n        id=\"value-filter\"\n        type=\"number\"\n        // value={ value }\n        onChange={ (e) => handleChange(e) }\n      />\n      <button\n        data-testid=\"button-filter\"\n        type=\"button\"\n        onClick={ onClick }\n      >\n        Filtrar\n      </button>\n    </>\n  );\n}\n\nexport default FilterNumericValues;\n\n// useEffect(() => {\n//   const planetByValues = () => {\n//     let aux = [...data];\n//     // console.log(allData);\n//     filterByNumericValues.forEach(() => {\n//       switch (comparison) {\n//       case 'maior que':\n//         aux = aux.filter((item) => (\n//           Number(item[column]) > value));\n//         setDataFilter(aux);\n//         break;\n//       case 'menor que':\n//         aux = aux.filter((item) => (\n//           Number(item[column]) < value));\n//         setDataFilter(aux);\n//         break;\n//       case 'igual a':\n//         aux = aux.filter((item) => (\n//           Number(item[column]) === value));\n//         setDataFilter(aux);\n//         break;\n//       default:\n//         break;\n//       }\n//     });\n//   };\n//   planetByValues();\n// }, [data, filters, setDataFilter, column, comparison, filterByNumericValues, value]);\n"]},"metadata":{},"sourceType":"module"}