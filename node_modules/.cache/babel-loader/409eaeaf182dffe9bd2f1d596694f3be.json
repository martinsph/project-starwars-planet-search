{"ast":null,"code":"var _jsxFileName = \"/home/pedro/Trybe/projetos_trybe/sd-012-project-starwars-planets-search/src/components/FilterByNumericValues.jsx\";\nimport React, { useContext, useEffect, useState } from 'react';\nimport ContextApi from '../context/ContextApi';\nimport Input from './Input';\nconst compareOptions = ['maior que', 'menor que', 'igual a'];\n\nfunction FilterNumericValues() {\n  const {\n    data,\n    filters,\n    setFilters,\n    setDataFilter,\n    columns,\n    setColumns\n  } = useContext(ContextApi);\n  const [numericFilter, setNumericFilter] = useState({}); // const { column, comparison, value } = numericFilter;\n\n  const {\n    filterByNumericValues\n  } = filters; // const { filterByName: { name } } = filters;\n\n  function handleChange({\n    target\n  }) {\n    setNumericFilter({ ...numericFilter,\n      [target.name]: target.value\n    });\n  }\n\n  function onClick() {\n    setFilters({ ...filters,\n      filterByNumericValues: [...filterByNumericValues, numericFilter]\n    });\n    setColumns(columns.filter(col => !column.includes(col)));\n  }\n\n  useEffect(() => {\n    setNumericFilter({\n      column: columns[0],\n      comparions: 'maior que',\n      value: '0'\n    });\n  }, [columns]); // useEffect(() => {\n  //   const planetByValues = () => {\n  //     let aux = [...data];\n  //     // console.log(allData);\n  //     filterByNumericValues.forEach(() => {\n  //       switch (comparison) {\n  //       case 'maior que':\n  //         aux = aux.filter((item) => (\n  //           Number(item[column]) > value));\n  //         setDataFilter(aux);\n  //         break;\n  //       case 'menor que':\n  //         aux = aux.filter((item) => (\n  //           Number(item[column]) < value));\n  //         setDataFilter(aux);\n  //         break;\n  //       case 'igual a':\n  //         aux = aux.filter((item) => (\n  //           Number(item[column]) === value));\n  //         setDataFilter(aux);\n  //         break;\n  //       default:\n  //         break;\n  //       }\n  //     });\n  //   };\n  //   planetByValues();\n  // }, [data, filters, setDataFilter, column, comparison, filterByNumericValues, value]);\n\n  useEffect(() => {\n    let aux = [...data];\n\n    const filterPlanet = () => {\n      filterByNumericValues.forEach(({\n        column,\n        comparison,\n        value\n      }) => {\n        if (comparison === 'maior que') {\n          aux = aux.filter(planet => Number(planet[column]) > Number(value));\n          return setDataFilter(aux);\n        }\n\n        if (comparison === 'menor que') {\n          aux = aux.filter(planet => Number(planet[column]) < Number(value));\n          return setDataFilter(aux);\n        }\n\n        if (comparison === 'igual a') {\n          aux = aux.filter(planet => Number(planet[column]) === Number(value));\n          return setDataFilter(aux);\n        }\n      });\n    };\n\n    filterPlanet();\n  }, [data, filters, filterByNumericValues, setDataFilter]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"select\", {\n    textLabel: \"column\",\n    id: \"column-filter\",\n    value: column,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }\n  }, columns.map(option => /*#__PURE__*/React.createElement(\"option\", {\n    key: option,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 36\n    }\n  }, option))), /*#__PURE__*/React.createElement(\"select\", {\n    textLabel: \"comparison\",\n    id: \"comparison-filter\",\n    value: comparison,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }\n  }, compareOptions.map(option => /*#__PURE__*/React.createElement(\"option\", {\n    key: option,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 43\n    }\n  }, option))), /*#__PURE__*/React.createElement(Input, {\n    textLabel: \"value\",\n    id: \"value-filter\",\n    type: \"number\",\n    value: value,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    \"data-testid\": \"button-filter\",\n    type: \"button\",\n    onClick: onClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 7\n    }\n  }, \"Filtrar\"));\n}\n\nexport default FilterNumericValues;","map":{"version":3,"sources":["/home/pedro/Trybe/projetos_trybe/sd-012-project-starwars-planets-search/src/components/FilterByNumericValues.jsx"],"names":["React","useContext","useEffect","useState","ContextApi","Input","compareOptions","FilterNumericValues","data","filters","setFilters","setDataFilter","columns","setColumns","numericFilter","setNumericFilter","filterByNumericValues","handleChange","target","name","value","onClick","filter","col","column","includes","comparions","aux","filterPlanet","forEach","comparison","planet","Number","map","option"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\nimport ContextApi from '../context/ContextApi';\nimport Input from './Input';\n\nconst compareOptions = ['maior que', 'menor que', 'igual a'];\n\nfunction FilterNumericValues() {\n  const {\n    data,\n    filters,\n    setFilters,\n    setDataFilter,\n    columns,\n    setColumns,\n  } = useContext(ContextApi);\n\n  const [numericFilter, setNumericFilter] = useState({});\n  // const { column, comparison, value } = numericFilter;\n  const { filterByNumericValues } = filters;\n  // const { filterByName: { name } } = filters;\n\n  function handleChange({ target }) {\n    setNumericFilter({\n      ...numericFilter,\n      [target.name]: target.value,\n    });\n  }\n\n  function onClick() {\n    setFilters({\n      ...filters,\n      filterByNumericValues: [\n        ...filterByNumericValues,\n        numericFilter,\n      ],\n    });\n    setColumns(columns.filter((col) => !column.includes(col)));\n  }\n\n  useEffect(() => {\n    setNumericFilter({\n      column: columns[0],\n      comparions: 'maior que',\n      value: '0',\n    });\n  }, [columns]);\n\n  // useEffect(() => {\n  //   const planetByValues = () => {\n  //     let aux = [...data];\n  //     // console.log(allData);\n  //     filterByNumericValues.forEach(() => {\n  //       switch (comparison) {\n  //       case 'maior que':\n  //         aux = aux.filter((item) => (\n  //           Number(item[column]) > value));\n  //         setDataFilter(aux);\n  //         break;\n  //       case 'menor que':\n  //         aux = aux.filter((item) => (\n  //           Number(item[column]) < value));\n  //         setDataFilter(aux);\n  //         break;\n  //       case 'igual a':\n  //         aux = aux.filter((item) => (\n  //           Number(item[column]) === value));\n  //         setDataFilter(aux);\n  //         break;\n  //       default:\n  //         break;\n  //       }\n  //     });\n  //   };\n  //   planetByValues();\n  // }, [data, filters, setDataFilter, column, comparison, filterByNumericValues, value]);\n  useEffect(() => {\n    let aux = [...data];\n    const filterPlanet = () => {\n      filterByNumericValues.forEach(({ column, comparison, value }) => {\n        if (comparison === 'maior que') {\n          aux = aux.filter((planet) => Number(planet[column]) > Number(value));\n          return setDataFilter(aux);\n        }\n        if (comparison === 'menor que') {\n          aux = aux.filter((planet) => Number(planet[column]) < Number(value));\n          return setDataFilter(aux);\n        }\n        if (comparison === 'igual a') {\n          aux = aux.filter((planet) => Number(planet[column]) === Number(value));\n          return setDataFilter(aux);\n        }\n      });\n    };\n    filterPlanet();\n  }, [data, filters, filterByNumericValues, setDataFilter]);\n\n  return (\n    <>\n      <select\n        textLabel=\"column\"\n        id=\"column-filter\"\n        value={ column }\n        onChange={ handleChange }\n      >\n        {\n          columns.map((option) => (<option key={ option }>{option}</option>))\n        }\n      </select>\n      <select\n        textLabel=\"comparison\"\n        id=\"comparison-filter\"\n        value={ comparison }\n        onChange={ handleChange }\n      >\n        {\n          compareOptions.map((option) => (<option key={ option }>{option}</option>))\n        }\n      </select>\n      <Input\n        textLabel=\"value\"\n        id=\"value-filter\"\n        type=\"number\"\n        value={ value }\n        onChange={ handleChange }\n      />\n      <button\n        data-testid=\"button-filter\"\n        type=\"button\"\n        onClick={ onClick }\n      >\n        Filtrar\n      </button>\n    </>\n  );\n}\n\nexport default FilterNumericValues;\n"]},"metadata":{},"sourceType":"module"}