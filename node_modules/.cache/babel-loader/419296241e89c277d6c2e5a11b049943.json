{"ast":null,"code":"var _jsxFileName = \"/home/pedro/Trybe/projetos_trybe/sd-012-project-starwars-planets-search/src/components/FilterByNumericValues.jsx\";\nimport React, { useContext, useEffect, useState } from 'react';\nimport ContextApi from '../context/ContextApi';\nimport Input from './Input';\nconst compareOptions = ['maior que', 'menor que', 'igual a'];\nconst columnsOptions = ['population', 'orbital_period', 'diameter', 'rotation_period', 'surface_water'];\n\nfunction FilterNumericValues() {\n  const {\n    filters,\n    setFilters,\n    columns,\n    setColumns\n  } = useContext(ContextApi);\n  const {\n    filterByNumericValues\n  } = filters;\n  const [numericFilter, setNumericFilter] = useState({\n    column: columns[0],\n    comparions: 'maior que',\n    value: '0'\n  });\n  const {\n    column,\n    comparison,\n    value\n  } = numericFilter;\n\n  function handleChange({\n    target\n  }) {\n    setNumericFilter({ ...numericFilter,\n      [target.name]: target.value\n    });\n  }\n\n  function onClick() {\n    setFilters({ ...filters,\n      filterByNumericValues: [...filterByNumericValues, numericFilter]\n    }); // console.log(column);\n\n    setColumns(columns.filter(cur => !column.includes(cur)));\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"select\", {\n    textlabel: \"column\",\n    id: \"column-filter\",\n    value: column,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }\n  }, columnsOptions.map(option => /*#__PURE__*/React.createElement(\"option\", {\n    key: option,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 43\n    }\n  }, option))), /*#__PURE__*/React.createElement(\"select\", {\n    textlabel: \"comparison\",\n    id: \"comparison-filter\",\n    value: comparison,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }\n  }, compareOptions.map(option => /*#__PURE__*/React.createElement(\"option\", {\n    key: option,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 43\n    }\n  }, option))), /*#__PURE__*/React.createElement(Input, {\n    textlabel: \"value\",\n    name: \"value\",\n    id: \"value-filter\",\n    type: \"number\",\n    value: value,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    \"data-testid\": \"button-filter\",\n    type: \"button\",\n    onClick: onClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }\n  }, \"Filtrar\"));\n}\n\nexport default FilterNumericValues; // useEffect(() => {\n//   const planetByValues = () => {\n//     let aux = [...data];\n//     // console.log(allData);\n//     filterByNumericValues.forEach(() => {\n//       switch (comparison) {\n//       case 'maior que':\n//         aux = aux.filter((item) => (\n//           Number(item[column]) > value));\n//         setDataFilter(aux);\n//         break;\n//       case 'menor que':\n//         aux = aux.filter((item) => (\n//           Number(item[column]) < value));\n//         setDataFilter(aux);\n//         break;\n//       case 'igual a':\n//         aux = aux.filter((item) => (\n//           Number(item[column]) === value));\n//         setDataFilter(aux);\n//         break;\n//       default:\n//         break;\n//       }\n//     });\n//   };\n//   planetByValues();\n// }, [data, filters, setDataFilter, column, comparison, filterByNumericValues, value]);","map":{"version":3,"sources":["/home/pedro/Trybe/projetos_trybe/sd-012-project-starwars-planets-search/src/components/FilterByNumericValues.jsx"],"names":["React","useContext","useEffect","useState","ContextApi","Input","compareOptions","columnsOptions","FilterNumericValues","filters","setFilters","columns","setColumns","filterByNumericValues","numericFilter","setNumericFilter","column","comparions","value","comparison","handleChange","target","name","onClick","filter","cur","includes","map","option"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\nimport ContextApi from '../context/ContextApi';\nimport Input from './Input';\n\nconst compareOptions = ['maior que', 'menor que', 'igual a'];\nconst columnsOptions = ['population',\n  'orbital_period',\n  'diameter',\n  'rotation_period',\n  'surface_water'];\n\nfunction FilterNumericValues() {\n  const {\n    filters,\n    setFilters,\n    columns,\n    setColumns,\n  } = useContext(ContextApi);\n  const { filterByNumericValues } = filters;\n  const [numericFilter, setNumericFilter] = useState(\n    {\n      column: columns[0],\n      comparions: 'maior que',\n      value: '0',\n    },\n  );\n  const { column, comparison, value } = numericFilter;\n\n  function handleChange({ target }) {\n    setNumericFilter({\n      ...numericFilter,\n      [target.name]: target.value,\n    });\n  }\n\n  function onClick() {\n    setFilters({\n      ...filters,\n      filterByNumericValues: [\n        ...filterByNumericValues,\n        numericFilter,\n      ],\n    });\n    // console.log(column);\n    setColumns(columns.filter((cur) => !column.includes(cur)));\n  }\n\n  return (\n    <>\n      <select\n        textlabel=\"column\"\n        id=\"column-filter\"\n        value={ column }\n        onChange={ handleChange }\n      >\n        {\n          columnsOptions.map((option) => (<option key={ option }>{option}</option>))\n        }\n      </select>\n      <select\n        textlabel=\"comparison\"\n        id=\"comparison-filter\"\n        value={ comparison }\n        onChange={ handleChange }\n      >\n        {\n          compareOptions.map((option) => (<option key={ option }>{option}</option>))\n        }\n      </select>\n      <Input\n        textlabel=\"value\"\n        name=\"value\"\n        id=\"value-filter\"\n        type=\"number\"\n        value={ value }\n        onChange={ handleChange }\n      />\n      <button\n        data-testid=\"button-filter\"\n        type=\"button\"\n        onClick={ onClick }\n      >\n        Filtrar\n      </button>\n    </>\n  );\n}\n\nexport default FilterNumericValues;\n\n// useEffect(() => {\n//   const planetByValues = () => {\n//     let aux = [...data];\n//     // console.log(allData);\n//     filterByNumericValues.forEach(() => {\n//       switch (comparison) {\n//       case 'maior que':\n//         aux = aux.filter((item) => (\n//           Number(item[column]) > value));\n//         setDataFilter(aux);\n//         break;\n//       case 'menor que':\n//         aux = aux.filter((item) => (\n//           Number(item[column]) < value));\n//         setDataFilter(aux);\n//         break;\n//       case 'igual a':\n//         aux = aux.filter((item) => (\n//           Number(item[column]) === value));\n//         setDataFilter(aux);\n//         break;\n//       default:\n//         break;\n//       }\n//     });\n//   };\n//   planetByValues();\n// }, [data, filters, setDataFilter, column, comparison, filterByNumericValues, value]);\n"]},"metadata":{},"sourceType":"module"}