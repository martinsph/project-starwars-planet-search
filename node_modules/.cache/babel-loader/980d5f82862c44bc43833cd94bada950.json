{"ast":null,"code":"var _jsxFileName = \"/home/pedro/Trybe/projetos_trybe/sd-012-project-starwars-planets-search/src/components/FilterByNumericValues.jsx\";\nimport React, { useContext, useEffect, useState } from 'react';\nimport ContextApi from '../context/ContextApi';\nimport Input from './Input';\nconst compareOptions = ['maior que', 'menor que', 'igual a'];\n\nfunction FilterNumericValues() {\n  const {\n    data,\n    filters,\n    setFilters,\n    setDataFilter,\n    columns,\n    setColumns\n  } = useContext(ContextApi);\n  const [numericFilter, setNumericFilter] = useState({});\n  const {\n    filterByNumericValues\n  } = filters; // const { filterByName: { name } } = filters;\n\n  useEffect(() => {\n    let aux = [...data];\n\n    const filterPlanet = () => {\n      filterByNumericValues.forEach(({\n        column,\n        comparison,\n        value\n      }) => {\n        if (comparison === 'maior que') {\n          aux = aux.filter(planet => Number(planet[column]) > Number(value));\n          return setDataFilter(aux);\n        }\n\n        if (comparison === 'menor que') {\n          aux = aux.filter(planet => Number(planet[column]) < Number(value));\n          return setDataFilter(aux);\n        }\n\n        if (comparison === 'igual a') {\n          aux = aux.filter(planet => Number(planet[column]) === Number(value));\n          return setDataFilter(aux);\n        }\n      });\n    };\n\n    filterPlanet();\n  }, [data, filters, filterByNumericValues, setDataFilter]);\n  const {\n    column,\n    comparison,\n    value\n  } = numericFilter;\n\n  function handleChange({\n    target\n  }) {\n    setNumericFilter({ ...numericFilter,\n      [target.name]: target.value\n    });\n  }\n\n  function onClick() {\n    setFilters({ ...filters,\n      filterByNumericValues: [...filterByNumericValues, numericFilter]\n    });\n    setColumns(columns.filter(col => !column.includes(col)));\n  } // useEffect(() => {\n  //   setNumericFilter({\n  //     column: columns[0],\n  //     comparions: 'maior que',\n  //     value: '0',\n  //   });\n  // }, [columns]);\n  // useEffect(() => {\n  //   const planetByValues = () => {\n  //     let aux = [...data];\n  //     // console.log(allData);\n  //     filterByNumericValues.forEach(() => {\n  //       switch (comparison) {\n  //       case 'maior que':\n  //         aux = aux.filter((item) => (\n  //           Number(item[column]) > value));\n  //         setDataFilter(aux);\n  //         break;\n  //       case 'menor que':\n  //         aux = aux.filter((item) => (\n  //           Number(item[column]) < value));\n  //         setDataFilter(aux);\n  //         break;\n  //       case 'igual a':\n  //         aux = aux.filter((item) => (\n  //           Number(item[column]) === value));\n  //         setDataFilter(aux);\n  //         break;\n  //       default:\n  //         break;\n  //       }\n  //     });\n  //   };\n  //   planetByValues();\n  // }, [data, filters, setDataFilter, column, comparison, filterByNumericValues, value]);\n\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"select\", {\n    textLabel: \"column\",\n    id: \"column-filter\",\n    value: column,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }\n  }, columns.map(option => /*#__PURE__*/React.createElement(\"option\", {\n    key: option,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 36\n    }\n  }, option))), /*#__PURE__*/React.createElement(\"select\", {\n    textLabel: \"comparison\",\n    id: \"comparison-filter\",\n    value: comparison,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }\n  }, compareOptions.map(option => /*#__PURE__*/React.createElement(\"option\", {\n    key: option,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 43\n    }\n  }, option))), /*#__PURE__*/React.createElement(Input, {\n    textLabel: \"value\",\n    id: \"value-filter\",\n    type: \"number\",\n    value: value,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    \"data-testid\": \"button-filter\",\n    type: \"button\",\n    onClick: onClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }\n  }, \"Filtrar\"));\n}\n\nexport default FilterNumericValues;","map":{"version":3,"sources":["/home/pedro/Trybe/projetos_trybe/sd-012-project-starwars-planets-search/src/components/FilterByNumericValues.jsx"],"names":["React","useContext","useEffect","useState","ContextApi","Input","compareOptions","FilterNumericValues","data","filters","setFilters","setDataFilter","columns","setColumns","numericFilter","setNumericFilter","filterByNumericValues","aux","filterPlanet","forEach","column","comparison","value","filter","planet","Number","handleChange","target","name","onClick","col","includes","map","option"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\nimport ContextApi from '../context/ContextApi';\nimport Input from './Input';\n\nconst compareOptions = ['maior que', 'menor que', 'igual a'];\n\nfunction FilterNumericValues() {\n  const {\n    data,\n    filters,\n    setFilters,\n    setDataFilter,\n    columns,\n    setColumns,\n  } = useContext(ContextApi);\n\n  const [numericFilter, setNumericFilter] = useState({});\n  const { filterByNumericValues } = filters;\n  // const { filterByName: { name } } = filters;\n\n  useEffect(() => {\n    let aux = [...data];\n    const filterPlanet = () => {\n      filterByNumericValues.forEach(({ column, comparison, value }) => {\n        if (comparison === 'maior que') {\n          aux = aux.filter((planet) => Number(planet[column]) > Number(value));\n          return setDataFilter(aux);\n        }\n        if (comparison === 'menor que') {\n          aux = aux.filter((planet) => Number(planet[column]) < Number(value));\n          return setDataFilter(aux);\n        }\n        if (comparison === 'igual a') {\n          aux = aux.filter((planet) => Number(planet[column]) === Number(value));\n          return setDataFilter(aux);\n        }\n      });\n    };\n    filterPlanet();\n  }, [data, filters, filterByNumericValues, setDataFilter]);\n\n  const { column, comparison, value } = numericFilter;\n\n  function handleChange({ target }) {\n    setNumericFilter({\n      ...numericFilter,\n      [target.name]: target.value,\n    });\n  }\n\n  function onClick() {\n    setFilters({\n      ...filters,\n      filterByNumericValues: [\n        ...filterByNumericValues,\n        numericFilter,\n      ],\n    });\n    setColumns(columns.filter((col) => !column.includes(col)));\n  }\n\n  // useEffect(() => {\n  //   setNumericFilter({\n  //     column: columns[0],\n  //     comparions: 'maior que',\n  //     value: '0',\n  //   });\n  // }, [columns]);\n\n  // useEffect(() => {\n  //   const planetByValues = () => {\n  //     let aux = [...data];\n  //     // console.log(allData);\n  //     filterByNumericValues.forEach(() => {\n  //       switch (comparison) {\n  //       case 'maior que':\n  //         aux = aux.filter((item) => (\n  //           Number(item[column]) > value));\n  //         setDataFilter(aux);\n  //         break;\n  //       case 'menor que':\n  //         aux = aux.filter((item) => (\n  //           Number(item[column]) < value));\n  //         setDataFilter(aux);\n  //         break;\n  //       case 'igual a':\n  //         aux = aux.filter((item) => (\n  //           Number(item[column]) === value));\n  //         setDataFilter(aux);\n  //         break;\n  //       default:\n  //         break;\n  //       }\n  //     });\n  //   };\n  //   planetByValues();\n  // }, [data, filters, setDataFilter, column, comparison, filterByNumericValues, value]);\n\n  return (\n    <>\n      <select\n        textLabel=\"column\"\n        id=\"column-filter\"\n        value={ column }\n        onChange={ handleChange }\n      >\n        {\n          columns.map((option) => (<option key={ option }>{option}</option>))\n        }\n      </select>\n      <select\n        textLabel=\"comparison\"\n        id=\"comparison-filter\"\n        value={ comparison }\n        onChange={ handleChange }\n      >\n        {\n          compareOptions.map((option) => (<option key={ option }>{option}</option>))\n        }\n      </select>\n      <Input\n        textLabel=\"value\"\n        id=\"value-filter\"\n        type=\"number\"\n        value={ value }\n        onChange={ handleChange }\n      />\n      <button\n        data-testid=\"button-filter\"\n        type=\"button\"\n        onClick={ onClick }\n      >\n        Filtrar\n      </button>\n    </>\n  );\n}\n\nexport default FilterNumericValues;\n"]},"metadata":{},"sourceType":"module"}