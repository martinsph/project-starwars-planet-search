{"ast":null,"code":"var _jsxFileName = \"/home/pedro/Trybe/projetos_trybe/sd-012-project-starwars-planets-search/src/components/SortingColumns.jsx\";\nimport React, { useState, useEffect, useContext } from 'react';\nimport ContextApi from '../context/ContextApi';\nexport default function SortingColumns() {\n  const columnsOptions = ['name', 'population', 'orbital_period', 'diameter', 'rotation_period', 'surface_water'];\n  const {\n    data,\n    setDataFilter,\n    filters,\n    setFilters\n  } = useContext(ContextApi);\n  const [column, setColumn] = useState('name');\n  const [sort, setSort] = useState('ASC'); // const sortData = (planets) => {\n  //   const { order } = filters;\n  //   if (order !== { column: 'name', sort: 'ASC' }) {\n  //     switch (sort) {\n  //     case 'ASC':\n  //       return planets\n  //         .sort(({ [column]: a }, { [column]: b }) => a.localeCompare(b))\n  //         .sort((a, b) => (a[column] - b[column]));\n  //     case 'DESC':\n  //       return planets\n  //         .sort(({ [column]: a }, { [column]: b }) => b.localeCompare(a))\n  //         .sort((a, b) => b[column] - a[column]);\n  //     default:\n  //       return planets;\n  //     }\n  //   }\n  // };\n\n  useEffect(() => {// const aux = [...data];\n    // const { order } = filters;\n    // aux.sort((a, b) => (a.name.localeCompare(b.name)));\n    // if (order.sort === 'DESC') {\n    //   aux.reverse();\n    // }\n    // setDataFilter(aux);\n  });\n\n  const renderSorted = () => {\n    console.log(sort);\n    console.log(column);\n    setFilters({ ...filters,\n      order: {\n        column,\n        sort\n      }\n    });\n    const aux = [...data];\n    aux.sort((a, b) => a.name.localeCompare(b.name));\n\n    if (sort === 'DESC') {\n      aux.reverse();\n    }\n\n    setDataFilter(aux);\n  };\n\n  return /*#__PURE__*/React.createElement(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    \"data-testid\": \"column-sort\",\n    onChange: ({\n      target: {\n        value\n      }\n    }) => setColumn(value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }\n  }, columnsOptions.map(option => /*#__PURE__*/React.createElement(\"option\", {\n    key: option,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 43\n    }\n  }, option))), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"ASC\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }\n  }, \"Crescente\", /*#__PURE__*/React.createElement(\"input\", {\n    \"data-testid\": \"column-sort-input-asc\",\n    id: \"ASC\",\n    type: \"radio\",\n    value: \"ASC\",\n    name: \"sort-btn\",\n    onChange: ({\n      target: {\n        value\n      }\n    }) => setSort(value),\n    checked: sort === 'ASC',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"DESC\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }\n  }, \"Decrescente\", /*#__PURE__*/React.createElement(\"input\", {\n    \"data-testid\": \"column-sort-input-desc\",\n    id: \"DESC\",\n    type: \"radio\",\n    value: \"DESC\",\n    name: \"sort-btn\",\n    onChange: ({\n      target: {\n        value\n      }\n    }) => setSort(value),\n    checked: sort === 'DESC',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    \"data-testid\": \"column-sort-button\",\n    type: \"button\",\n    onClick: renderSorted,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }\n  }, \"Ordenar\"));\n}","map":{"version":3,"sources":["/home/pedro/Trybe/projetos_trybe/sd-012-project-starwars-planets-search/src/components/SortingColumns.jsx"],"names":["React","useState","useEffect","useContext","ContextApi","SortingColumns","columnsOptions","data","setDataFilter","filters","setFilters","column","setColumn","sort","setSort","renderSorted","console","log","order","aux","a","b","name","localeCompare","reverse","target","value","map","option"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\nimport ContextApi from '../context/ContextApi';\n\nexport default function SortingColumns() {\n  const columnsOptions = [\n    'name',\n    'population',\n    'orbital_period',\n    'diameter',\n    'rotation_period',\n    'surface_water',\n  ];\n\n  const { data, setDataFilter, filters, setFilters } = useContext(ContextApi);\n  const [column, setColumn] = useState('name');\n  const [sort, setSort] = useState('ASC');\n\n  // const sortData = (planets) => {\n  //   const { order } = filters;\n  //   if (order !== { column: 'name', sort: 'ASC' }) {\n  //     switch (sort) {\n  //     case 'ASC':\n  //       return planets\n  //         .sort(({ [column]: a }, { [column]: b }) => a.localeCompare(b))\n  //         .sort((a, b) => (a[column] - b[column]));\n  //     case 'DESC':\n  //       return planets\n  //         .sort(({ [column]: a }, { [column]: b }) => b.localeCompare(a))\n  //         .sort((a, b) => b[column] - a[column]);\n  //     default:\n  //       return planets;\n  //     }\n  //   }\n  // };\n\n  useEffect(() => {\n    // const aux = [...data];\n    // const { order } = filters;\n    // aux.sort((a, b) => (a.name.localeCompare(b.name)));\n    // if (order.sort === 'DESC') {\n    //   aux.reverse();\n    // }\n    // setDataFilter(aux);\n  });\n\n  const renderSorted = () => {\n    console.log(sort);\n    console.log(column);\n    setFilters({\n      ...filters,\n      order: {\n        column,\n        sort,\n      },\n    });\n    const aux = [...data];\n    aux.sort((a, b) => (a.name.localeCompare(b.name)));\n    if (sort === 'DESC') {\n      aux.reverse();\n    }\n    setDataFilter(aux);\n  };\n\n  return (\n    <form>\n      <select\n        data-testid=\"column-sort\"\n        onChange={ ({ target: { value } }) => setColumn(value) }\n      >\n        {\n          columnsOptions.map((option) => (<option key={ option }>{option}</option>))\n        }\n      </select>\n      <label htmlFor=\"ASC\">\n        Crescente\n        <input\n          data-testid=\"column-sort-input-asc\"\n          id=\"ASC\"\n          type=\"radio\"\n          value=\"ASC\"\n          name=\"sort-btn\"\n          onChange={ ({ target: { value } }) => setSort(value) }\n          checked={ sort === 'ASC' }\n        />\n      </label>\n      <label htmlFor=\"DESC\">\n        Decrescente\n        <input\n          data-testid=\"column-sort-input-desc\"\n          id=\"DESC\"\n          type=\"radio\"\n          value=\"DESC\"\n          name=\"sort-btn\"\n          onChange={ ({ target: { value } }) => setSort(value) }\n          checked={ sort === 'DESC' }\n        />\n      </label>\n      <button\n        data-testid=\"column-sort-button\"\n        type=\"button\"\n        onClick={ renderSorted }\n      >\n        Ordenar\n      </button>\n    </form>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}