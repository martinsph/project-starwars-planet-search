{"ast":null,"code":"var _jsxFileName = \"/home/pedro/Trybe/projetos_trybe/sd-012-project-starwars-planets-search/src/components/FilterByNumericValues.jsx\";\nimport React, { useContext, useEffect } from 'react';\nimport ContextApi from '../context/ContextApi';\nimport Input from './Input';\nconst compareOptions = ['maior que', 'menor que', 'igual a'];\n\nfunction FilterByNumericValues() {\n  const {\n    data,\n    filters,\n    setDataFilter,\n    columns,\n    numericFilter,\n    setNumericFilter\n  } = useContext(ContextApi);\n  const {\n    column,\n    comparison,\n    value\n  } = numericFilter; // const { filterByName: { name } } = filters;\n\n  function handleChange({\n    target\n  }) {\n    setNumericFilter({ ...numericFilter,\n      [target.name]: target.value\n    });\n  }\n\n  function handleClickFilter() {\n    setFilters({ ...filters,\n      filterByNumericValues: [...filterByNumericValues, numericFilter]\n    });\n    setColumns(columns.filter(col => !column.includes(col)));\n  }\n\n  useEffect(() => {\n    setNumericFilter({\n      column: columns[0],\n      comparions: 'maior que',\n      value: '0'\n    });\n  }, [columns]);\n  useEffect(() => {\n    const planetByNumericValues = () => {\n      const {\n        filterByNumericValues\n      } = filters;\n      let aux = [...data]; // console.log(allData);\n\n      filterByNumericValues.forEach(({\n        column,\n        comparison,\n        value\n      }) => {\n        switch (comparison) {\n          case 'maior que':\n            aux = aux.filter(item => Number(item[column]) > value);\n            setDataFilter(aux);\n            break;\n\n          case 'menor que':\n            aux = aux.filter(item => Number(item[column]) < value);\n            setDataFilter(aux);\n            break;\n\n          case 'igual a':\n            aux = aux.filter(item => Number(item[column]) === value);\n            setDataFilter(aux);\n            break;\n\n          default:\n            break;\n        }\n      });\n    };\n\n    planetByNumericValues();\n  }, [data, filters, setDataFilter]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"select\", {\n    textLabel: \"column\",\n    id: \"column-filter\",\n    value: columns,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }\n  }, columns.map(option => /*#__PURE__*/React.createElement(\"option\", {\n    key: option,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 36\n    }\n  }, option))), /*#__PURE__*/React.createElement(\"select\", {\n    textLabel: \"comparison\",\n    id: \"comparison-filter\",\n    value: comparison,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }\n  }, compareOptions.map(option => /*#__PURE__*/React.createElement(\"option\", {\n    key: option,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 43\n    }\n  }, option))), /*#__PURE__*/React.createElement(Input, {\n    textLabel: \"value\",\n    id: \"value-filter\",\n    type: \"number\",\n    value: value,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    \"data-testid\": \"button-filter\",\n    type: \"button\",\n    onClick: handleClickFilter,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }\n  }, \"Filtrar\"));\n}\n\nexport default FilterByNumericValues;","map":{"version":3,"sources":["/home/pedro/Trybe/projetos_trybe/sd-012-project-starwars-planets-search/src/components/FilterByNumericValues.jsx"],"names":["React","useContext","useEffect","ContextApi","Input","compareOptions","FilterByNumericValues","data","filters","setDataFilter","columns","numericFilter","setNumericFilter","column","comparison","value","handleChange","target","name","handleClickFilter","setFilters","filterByNumericValues","setColumns","filter","col","includes","comparions","planetByNumericValues","aux","forEach","item","Number","map","option"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect } from 'react';\nimport ContextApi from '../context/ContextApi';\nimport Input from './Input';\n\nconst compareOptions = ['maior que', 'menor que', 'igual a'];\n\nfunction FilterByNumericValues() {\n  const {\n    data,\n    filters,\n    setDataFilter,\n    columns,\n    numericFilter,\n    setNumericFilter,\n  } = useContext(ContextApi);\n  const { column, comparison, value } = numericFilter;\n  // const { filterByName: { name } } = filters;\n\n  function handleChange({ target }) {\n    setNumericFilter({\n      ...numericFilter,\n      [target.name]: target.value,\n    });\n  }\n\n  function handleClickFilter() {\n    setFilters({\n      ...filters,\n      filterByNumericValues: [\n        ...filterByNumericValues,\n        numericFilter,\n      ],\n    });\n    setColumns(columns.filter((col) => !column.includes(col)));\n  }\n\n  useEffect(() => {\n    setNumericFilter({\n      column: columns[0],\n      comparions: 'maior que',\n      value: '0',\n    });\n  }, [columns]);\n\n  useEffect(() => {\n    const planetByNumericValues = () => {\n      const { filterByNumericValues } = filters;\n      let aux = [...data];\n      // console.log(allData);\n      filterByNumericValues.forEach(({ column, comparison, value }) => {\n        switch (comparison) {\n        case 'maior que':\n          aux = aux.filter((item) => (\n            Number(item[column]) > value));\n          setDataFilter(aux);\n          break;\n        case 'menor que':\n          aux = aux.filter((item) => (\n            Number(item[column]) < value));\n          setDataFilter(aux);\n          break;\n        case 'igual a':\n          aux = aux.filter((item) => (\n            Number(item[column]) === value));\n          setDataFilter(aux);\n          break;\n        default:\n          break;\n        }\n      });\n    };\n    planetByNumericValues();\n  }, [data, filters, setDataFilter]);\n\n  return (\n    <>\n      <select\n        textLabel=\"column\"\n        id=\"column-filter\"\n        value={ columns }\n        onChange={ handleChange }\n      >\n        {\n          columns.map((option) => (<option key={ option }>{option}</option>))\n        }\n      </select>\n      <select\n        textLabel=\"comparison\"\n        id=\"comparison-filter\"\n        value={ comparison }\n        onChange={ handleChange }\n      >\n        {\n          compareOptions.map((option) => (<option key={ option }>{option}</option>))\n        }\n      </select>\n      <Input\n        textLabel=\"value\"\n        id=\"value-filter\"\n        type=\"number\"\n        value={ value }\n        onChange={ handleChange }\n      />\n      <button\n        data-testid=\"button-filter\"\n        type=\"button\"\n        onClick={ handleClickFilter }\n      >\n        Filtrar\n      </button>\n    </>\n  );\n}\n\nexport default FilterByNumericValues;\n"]},"metadata":{},"sourceType":"module"}